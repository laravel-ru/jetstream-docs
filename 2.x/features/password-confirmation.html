<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Password Confirmation | Laravel Jetstream</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,800,800i,900,900i" rel="stylesheet" type="text/css">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/apple-touch-icon.png?v=00aYpBgAp5">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon-32x32.png?v=00aYpBgAp5">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon-16x16.png?v=00aYpBgAp5">
    <link rel="shortcut icon" href="/assets/img/favicon.ico?v=00aYpBgAp5">
    <meta name="description" content="Красиво оформленный каркас приложений для Laravel">
    <meta name="theme-color" content="#ffffff">
    <link rel="preload" href="/assets/css/0.styles.408a0e15.css" as="style"><link rel="preload" href="/assets/js/app.35125ebd.js" as="script"><link rel="preload" href="/assets/js/2.d76ec8bd.js" as="script"><link rel="preload" href="/assets/js/5.9920dd6c.js" as="script"><link rel="prefetch" href="/assets/js/10.95dd530a.js"><link rel="prefetch" href="/assets/js/11.e33c6435.js"><link rel="prefetch" href="/assets/js/12.8fdf7f4a.js"><link rel="prefetch" href="/assets/js/13.d2261467.js"><link rel="prefetch" href="/assets/js/14.dfc49aa1.js"><link rel="prefetch" href="/assets/js/15.132a2d6c.js"><link rel="prefetch" href="/assets/js/16.bc516004.js"><link rel="prefetch" href="/assets/js/17.e62a7647.js"><link rel="prefetch" href="/assets/js/18.4d856637.js"><link rel="prefetch" href="/assets/js/19.bbb062ae.js"><link rel="prefetch" href="/assets/js/20.81cb1602.js"><link rel="prefetch" href="/assets/js/21.f6c8567b.js"><link rel="prefetch" href="/assets/js/22.501acb73.js"><link rel="prefetch" href="/assets/js/23.d3e266df.js"><link rel="prefetch" href="/assets/js/24.61ea1235.js"><link rel="prefetch" href="/assets/js/25.21696d26.js"><link rel="prefetch" href="/assets/js/26.6ec687e5.js"><link rel="prefetch" href="/assets/js/27.1aca54d2.js"><link rel="prefetch" href="/assets/js/28.72ad139f.js"><link rel="prefetch" href="/assets/js/29.a0b59c2a.js"><link rel="prefetch" href="/assets/js/3.e7e4b4a5.js"><link rel="prefetch" href="/assets/js/30.73aa0dbe.js"><link rel="prefetch" href="/assets/js/31.d65d18c2.js"><link rel="prefetch" href="/assets/js/32.1542b715.js"><link rel="prefetch" href="/assets/js/33.94c7dcc9.js"><link rel="prefetch" href="/assets/js/34.d690b0e8.js"><link rel="prefetch" href="/assets/js/35.31752920.js"><link rel="prefetch" href="/assets/js/36.9ef35e3e.js"><link rel="prefetch" href="/assets/js/37.ee2ee5bd.js"><link rel="prefetch" href="/assets/js/38.ac5418ec.js"><link rel="prefetch" href="/assets/js/39.ac29f78e.js"><link rel="prefetch" href="/assets/js/4.06846390.js"><link rel="prefetch" href="/assets/js/40.12279338.js"><link rel="prefetch" href="/assets/js/41.21f08b21.js"><link rel="prefetch" href="/assets/js/42.aea6e88f.js"><link rel="prefetch" href="/assets/js/43.75b4f9d6.js"><link rel="prefetch" href="/assets/js/6.abdcff70.js"><link rel="prefetch" href="/assets/js/7.e2c28faa.js"><link rel="prefetch" href="/assets/js/8.46093f26.js"><link rel="prefetch" href="/assets/js/9.379c5989.js">
    <link rel="stylesheet" href="/assets/css/0.styles.408a0e15.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.svg" alt="Laravel Jetstream" class="logo"> <span class="site-name can-hide">Laravel Jetstream</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Главная
</a></div> <a href="https://github.com/laravel/jetstream" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Главная
</a></div> <a href="https://github.com/laravel/jetstream" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="password-confirmation"><a href="#password-confirmation" class="header-anchor">#</a> Password Confirmation</h1> <p></p><div class="table-of-contents"><ul><li><a href="#introduction">Introduction</a></li><li><a href="#redirect-password-confirmation">Redirect Password Confirmation</a><ul><li><a href="#redirect-password-confirmation-via-livewire">Redirect Password Confirmation Via Livewire</a></li><li><a href="#redirect-password-confirmation-via-inertia">Redirect Password Confirmation Via Inertia</a></li></ul></li><li><a href="#modal-password-confirmation">Modal Password Confirmation</a><ul><li><a href="#modal-password-confirmation-via-livewire">Modal Password Confirmation Via Livewire</a></li><li><a href="#modal-password-confirmation-via-inertia">Modal Password Confirmation Via Inertia</a></li></ul></li><li><a href="#customizing-how-passwords-are-confirmed">Customizing How Passwords Are Confirmed</a></li></ul></div><p></p> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>While building your application, you may occasionally have actions that should require the user to confirm their password before the action is performed. For example, Jetstream itself requires users to confirm their password before changing their two-factor authentication settings. Thankfully, Jetstream has built-in functionality to make this a cinch.</p> <p>Jetstream provides two approaches to password confirmation: redirect based password confirmation and modal based password confirmation.</p> <h4 id="redirect-based-password-confirmation"><a href="#redirect-based-password-confirmation" class="header-anchor">#</a> Redirect Based Password Confirmation</h4> <p>Redirect based password confirmation is typically used when the user needs to confirm their password before accessing an entire screen that is rendered by your application, such as a billing settings screen.</p> <p>This form of password confirmation redirects the user to a dedicated password confirmation screen where they must confirm their password before being redirected to their intended destination.</p> <h4 id="modal-based-password-confirmation"><a href="#modal-based-password-confirmation" class="header-anchor">#</a> Modal Based Password Confirmation</h4> <p>Modal based password authentication might be used when you would like the user to confirm their password before performing a specific action, such as when enabling two-factor authentication.</p> <p>This form of password confirmation displays a modal window that allows the user to confirm their password before their intended request is executed.</p> <h2 id="redirect-password-confirmation"><a href="#redirect-password-confirmation" class="header-anchor">#</a> Redirect Password Confirmation</h2> <p>The following documentation will discuss how to use redirect based password confirmation in Jetstream. Redirect based password confirmation is typically used when the user needs to confirm their password before accessing an entire screen that is rendered by your application, such as a billing settings screen.</p> <p>This form of password confirmation redirects the user to a dedicated password confirmation screen where they must confirm their password before being redirected to their intended destination.</p> <p><img src="/assets/img/redirect-confirm.d03b19d0.png" alt="Screenshot of Password Confirmation"></p> <h3 id="redirect-password-confirmation-via-livewire"><a href="#redirect-password-confirmation-via-livewire" class="header-anchor">#</a> Redirect Password Confirmation Via Livewire</h3> <h4 id="protecting-routes"><a href="#protecting-routes" class="header-anchor">#</a> Protecting Routes</h4> <p>To implement password confirmation via redirect to a password confirmation screen, you should ensure that the route that will render the view that requires password confirmation and any routes that perform the confirmed actions are assigned the <code>password.confirm</code> middleware.</p> <p>This middleware is included with the default installation of Laravel and will ensure that the user is redirected to your application's password confirmation screen if they attempt to access the routes without confirming their password:</p> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/billing'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'password.confirm'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/billing'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'password.confirm'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>That view that renders the Livewire stack's password confirmation screen is located at <code>resources/views/auth/confirm-password.blade.php</code>. Generally, this view should not need customization; however, you are free to make general presentational tweaks to this page based on your own application's design.</p> <h4 id="ensuring-the-password-has-been-confirmed"><a href="#ensuring-the-password-has-been-confirmed" class="header-anchor">#</a> Ensuring The Password Has Been Confirmed</h4> <p>Next, Livewire components that contains an action that should require password confirmation before being invoked should use the <code>Laravel\Jetstream\ConfirmsPasswords</code> trait.</p> <p>After adding this trait to a component, you should call the <code>ensurePasswordIsConfirmed</code> method within any Livewire action that requires password confirmation. This should be done at the very beginning of the relevant action method:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * Enable administration mode for user.
 *
 * @return void
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">enableAdminMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">ensurePasswordIsConfirmed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Password Confirmation Expiration</p> <p>Once the user has confirmed their password, they will not be required to re-enter their password until the number of seconds defined by the your application's <code>auth.password_timeout</code> configuration option have elapsed:</p></div> <h3 id="redirect-password-confirmation-via-inertia"><a href="#redirect-password-confirmation-via-inertia" class="header-anchor">#</a> Redirect Password Confirmation Via Inertia</h3> <p>To implement password confirmation via redirect to a password confirmation screen, you should ensure that the route that will render the view that requires password confirmation and any routes that perform the confirmed actions are assigned the <code>password.confirm</code> middleware.</p> <p>This middleware is included with the default installation of Laravel and will ensure that the user is redirected to your application's password confirmation screen if they attempt to access the routes without confirming their password:</p> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/billing'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'password.confirm'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/billing'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'password.confirm'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>That page that renders the Inertia's stack's password confirmation screen is located at <code>resources/js/Pages/Auth/ConfirmPassword.vue</code>. Generally, this page should not need customization; however, you are free to make general presentational tweaks to this page based on your own application's design.</p> <div class="custom-block warning"><p class="custom-block-title">Password Confirmation Expiration</p> <p>Once the user has confirmed their password, they will not be required to re-enter their password until the number of seconds defined by the your application's <code>auth.password_timeout</code> configuration option have elapsed:</p></div> <h2 id="modal-password-confirmation"><a href="#modal-password-confirmation" class="header-anchor">#</a> Modal Password Confirmation</h2> <p>The following documentation will discuss how to use modal based password confirmation in Jetstream. Modal based password authentication is typically used when you would like the user to confirm their password before performing a specific action, such as when enabling two-factor authentication.</p> <p>This form of password confirmation displays a modal window that allows the user to confirm their password before their intended request is executed.</p> <p><img src="/assets/img/modal-confirm.29bb2150.png" alt="Screenshot of Password Confirmation"></p> <h3 id="modal-password-confirmation-via-livewire"><a href="#modal-password-confirmation-via-livewire" class="header-anchor">#</a> Modal Password Confirmation Via Livewire</h3> <h4 id="component-preparation"><a href="#component-preparation" class="header-anchor">#</a> Component Preparation</h4> <p>If you are using the Livewire stack, the Livewire component that contains the action that should require password confirmation before being invoked should use the <code>Laravel\Jetstream\ConfirmsPasswords</code> trait.</p> <h4 id="the-confirms-password-blade-component"><a href="#the-confirms-password-blade-component" class="header-anchor">#</a> The <code>confirms-password</code> Blade Component</h4> <p>Next, in your application's user interface, you should wrap the button that triggers the action within the <code>confirms-password</code> Blade component. The <code>confirms-password</code> wrapper component should contain a <code>wire:then</code> directive that specifies which Livewire action should be run once the user's password has been confirmed:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>x-jet-confirms-password</span> <span class="token attr-name"><span class="token namespace">wire:</span>then</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>enableAdminMode<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>x-jet-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wire:</span>loading.attr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{ __('Enable') }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>x-jet-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>x-jet-confirms-password</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="ensuring-the-password-is-confirmed"><a href="#ensuring-the-password-is-confirmed" class="header-anchor">#</a> Ensuring The Password Is Confirmed</h4> <p>After adding the <code>confirms-password</code> component to your application's user interface, you should call the <code>ensurePasswordIsConfirmed</code> method within the Livewire action that requires password confirmation. This should be done at the very beginning of the relevant action method:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * Enable administration mode for user.
 *
 * @return void
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">enableAdminMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">ensurePasswordIsConfirmed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Password Confirmation Expiration</p> <p>Once the user has confirmed their password, they will not be required to re-enter their password until the number of seconds defined by the your application's <code>auth.password_timeout</code> configuration option have elapsed:</p></div> <h3 id="modal-password-confirmation-via-inertia"><a href="#modal-password-confirmation-via-inertia" class="header-anchor">#</a> Modal Password Confirmation Via Inertia</h3> <h4 id="the-confirmspassword-vue-component"><a href="#the-confirmspassword-vue-component" class="header-anchor">#</a> The <code>ConfirmsPassword</code> Vue Component</h4> <p>If you are using the Inertia stack, you should wrap the user interface element that triggers an action requiring password confirmation with the <code>ConfirmsPassword</code> Vue component provided by Jetstream. To get started, import the <code>ConfirmsPassword</code> component into your page:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> JetConfirmsPassword <span class="token keyword">from</span> <span class="token string">'./Jetstream/ConfirmsPassword'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
        JetConfirmsPassword<span class="token punctuation">,</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Next, wrap the component around the user interface element that triggers the action that should be confirmed. Your page should listen for the <code>ConfirmsPassword</code> component's <code>@confirmed</code> event in order to trigger the method that should be called once the user's password is confirmed:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jet-confirms-password</span> <span class="token attr-name">@confirmed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>enableAdminMode<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jet-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ <span class="token punctuation">'</span>opacity-25<span class="token punctuation">'</span>: enabling }<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>enabling<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        Enable
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jet-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jet-confirms-password</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="ensuring-the-password-is-confirmed-2"><a href="#ensuring-the-password-is-confirmed-2" class="header-anchor">#</a> Ensuring The Password Is Confirmed</h4> <p>After adding the <code>ConfirmsPassword</code> component to your user interface, you should ensure that the route that performs the confirmed action is assigned the <code>password.confirm</code> middleware. This middleware is included with the default installation of Laravel:</p> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/admin-mode'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'password.confirm'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Password Confirmation Expiration</p> <p>Once the user has confirmed their password, they will not be required to re-enter their password until the number of seconds defined by the your application's <code>auth.password_timeout</code> configuration option have elapsed:</p></div> <h2 id="customizing-how-passwords-are-confirmed"><a href="#customizing-how-passwords-are-confirmed" class="header-anchor">#</a> Customizing How Passwords Are Confirmed</h2> <p>Sometimes, you may wish to customize how the user's password is validated during confirmation. To do so, you may use the <code>Fortify::confirmPasswordsUsing</code> method. This method accepts a closure which receives the authenticated user instance and the <code>password</code> input field of the request. The closure should return <code>true</code> if the password is valid for the given user. Typically, this method should be called from the <code>boot</code> method of your <code>JetstreamServiceProvider</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Hash</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Fortify<span class="token punctuation">\</span>Fortify</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Загрузка любых служб приложений.
 *
 * @return void
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ...</span>

    Fortify<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">confirmPasswordsUsing</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$user</span><span class="token punctuation">,</span> string <span class="token variable">$password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Hash<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">,</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">password</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>If you prefer to encapsulate your password confirmation process within a class instead of a closure, you may pass a PHP &quot;callable&quot; array to the <code>confirmPasswordsUsing</code> method:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Actions<span class="token punctuation">\</span>ConfirmPassword</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Laravel<span class="token punctuation">\</span>Fortify<span class="token punctuation">\</span>Fortify</span><span class="token punctuation">;</span>

Fortify<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">confirmPasswordsUsing</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">ConfirmPassword</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'__invoke'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/laravel-ru/jetstream-docs/edit/main-ru/2.x/features/password-confirmation.md" target="_blank" rel="noopener noreferrer">Помогите нам улучшить эту страницу!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.35125ebd.js" defer></script><script src="/assets/js/2.d76ec8bd.js" defer></script><script src="/assets/js/5.9920dd6c.js" defer></script>
  </body>
</html>
