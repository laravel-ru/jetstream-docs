# Обзор концепции

[[toc]]

## Введение

Архитектура Laravel Jetstream немного отличается от других стартовых наборов приложений Laravel, таких как [Laravel Breeze](https://laravel.com/docs/starter-kits). В этой документации мы рассмотрим некоторые высокоуровневые концепции, которые помогут Вам понять, как устроен Laravel Jetstream.

## Laravel Fortify

Под капотом аутентификационные части Jetstream работают на [Laravel Fortify](https://github.com/laravel/fortify), который является независимым от внешнего интерфейса, «безголовым» сервером аутентификации для Laravel.

Fortify регистрирует маршруты и контроллеры, необходимые для реализации всех функций аутентификации Laravel, включая вход в систему, регистрацию, сброс пароля, проверку электронной почты и многое другое. После установки Fortify Вы можете запустить Artisan-команду `route:list`, чтобы просмотреть маршруты, зарегистрированные Fortify.

Поскольку Fortify не предоставляет собственный пользовательский интерфейс, он предназначен для работы в паре с Вашим собственным пользовательским интерфейсом, который отправляет запросы на регистрируемые им маршруты. Laravel Jetstream - это наша собственная реализация пользовательского интерфейса, построенная на основе бэкэнда аутентификации Fortify.

#### Конфигурация Fortify

Когда Jetstream установлен, в Ваше приложение устанавливается файл конфигурации `config/fortify.php`. В этом файле конфигурации Вы можете настроить различные аспекты поведения Fortify, такие как средство защиты аутентификации, которое следует использовать, куда следует перенаправлять пользователей после аутентификации и многое другое.

В файле конфигурации `fortify` Вы также можете отключить все функции Fortify, такие как возможность обновления информации профиля или паролей.

## Действия

В отличие от [Laravel Breeze](https://laravel.com/docs/starter-kits), Laravel Jetstream не публикует контроллеры или маршруты для Вашего приложения. Вместо этого функциональность Jetstream настраивается с помощью классов «Action». В процессе установки Jetstream действия публикуются в каталоге Вашего приложения `app/Actions`.

Классы действий обычно выполняют одно действие и соответствуют одной функции Jetstream или Fortify, такой как создание группы или удаление пользователя. Вы можете настроить эти классы, если хотите настроить внутреннее поведение Jetstream. Каждое из соответствующих действий, опубликованных Jetstream, будет обсуждаться в соответствующей документации функции.

## Представления / Страницы

Во время установки Jetstream опубликует в Вашем приложении различные представления и классы. При использовании Livewire представления будут публиковаться в каталоге `resources/views` Вашего приложения. При использовании Inertia «Страницы» будут опубликованы в Вашем каталоге `resources/js/Pages`.

Представления / страницы, опубликованные Jetstream, содержат все функции, поддерживаемые Jetstream, и Вы можете свободно настраивать их по мере необходимости. Думайте о Jetstream как о отправной точке для Вашего приложения. После того, как Вы установили Jetstream, Вы можете настроить все, что захотите.

### Макеты

#### Макет приложения

После установки ваше приложение Jetstream будет содержать два «макета». Во-первых, Jetstream создает макет приложения, который используется для определения макета страниц Вашего приложения, требующих аутентификации, например, панели мониторинга Вашего приложения. При использовании стека Livewire этот макет определяется в `resources/views/layouts/app.blade.php` и отображается классом `App\View\Components\AppLayout`. При использовании стека Inertia этот макет определяется в `resources/js/Layouts/AppLayout.vue`.

#### Макет гостя / аутентификации

В дополнение к макету приложения Jetstream создает «гостевой» макет, который используется для определения макета страниц, связанных с аутентификацией Jetstream, таких как страницы входа в систему, регистрации и сброса пароля Вашего приложения. При использовании стека Livewire этот макет определяется в `resources/views/layouts/guest.blade.php` и отображается классом `App\View\Components\GuestLayout`. При использовании стека Inertia этот макет определяется в `resources/js/Layouts/GuestLayout.vue`.

### Панель

«Главный» вид Вашего приложения публикуется в `resources/views/dashboard.blade.php` при использовании Livewire и `resources/js/Pages/Dashboard.vue` при использовании Inertia. Вы можете использовать это как отправную точку для создания основной «приборной панели» Вашего приложения.

### Компоненты Livewire

При использовании стека Livewire Jetstream использует множество общих компонентов Blade, таких как кнопки и модальные окна. Если Вы используете стек Livewire и хотите опубликовать эти компоненты после установки Jetstream, Вы можете использовать Artisan-команду `vendor:publish`:

```bash
php artisan vendor:publish --tag=jetstream-views
```

После публикации этих компонентов Вы можете изменять их по мере необходимости, чтобы настроить внешний вид Вашего приложения.

## Tailwind

Во время установки Jetstream обеспечит интеграцию Вашего приложения с фреймворком Tailwind CSS. В частности, будут созданы файлы `webpack.mix.js` и `tailwind.config.js`. Эти два файла используются для создания скомпилированного вывода CSS Вашего приложения. Вы можете изменять эти файлы по мере необходимости для своего приложения.

Кроме того, Ваш файл `tailwind.config.js` был предварительно настроен для поддержки PurgeCSS с соответствующими каталогами, правильно указанными в зависимости от выбранного Вами стека Jetstream.

Файл `package.json` Вашего приложения уже содержит команды NPM, которые Вы можете использовать для компиляции Ваших ресурсов. Для получения дополнительной информации о компиляции ресурсов Вашего приложения обратитесь к [документации Laravel Mix](https://laravel.com/docs/mix):

```bash
# Скомпилируйте свой CSS / JavaScript для разработки...
npm run dev

# Скомпилируйте свой CSS / JavaScript для продакшена...
npm run prod

# Скомпилируйте свой CSS / JavaScript для разработки и перекомпилируйте при изменении...
npm run watch
```

