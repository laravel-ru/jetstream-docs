(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{350:function(t,a,e){t.exports=e.p+"assets/img/profile-management.d7eec7d1.png"},359:function(t,a,e){"use strict";e.r(a);var s=e(40),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"управление-профилем"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#управление-профилем"}},[t._v("#")]),t._v(" Управление профилем")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#вступление"}},[t._v("Вступление")])]),s("li",[s("a",{attrs:{href:"#представления-страницы"}},[t._v("Представления / Страницы")])]),s("li",[s("a",{attrs:{href:"#деиствия"}},[t._v("Действия")])]),s("li",[s("a",{attrs:{href:"#фото-профиля"}},[t._v("Фото профиля")]),s("ul",[s("li",[s("a",{attrs:{href:"#включение-фото-профиля"}},[t._v("Включение фото профиля")])]),s("li",[s("a",{attrs:{href:"#управление-фотографиями-профиля"}},[t._v("Управление фотографиями профиля")])])])]),s("li",[s("a",{attrs:{href:"#удаление-аккаунта"}},[t._v("Удаление аккаунта")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"вступление"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#вступление"}},[t._v("#")]),t._v(" Вступление")]),t._v(" "),s("p",[t._v("Доступ к функциям управления профилями Laravel Jetstream осуществляется пользователем с помощью раскрывающегося меню навигации профиля пользователя в правом верхнем углу. Jetstream формирует представления и действия, которые позволяют пользователю обновлять свое имя, адрес электронной почты и, при необходимости, фотографию своего профиля.")]),t._v(" "),s("p",[s("img",{attrs:{src:e(350),alt:"Снимок экрана управления профилем"}})]),t._v(" "),s("h2",{attrs:{id:"представления-страницы"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#представления-страницы"}},[t._v("#")]),t._v(" Представления / Страницы")]),t._v(" "),s("p",[t._v("При использовании стека Livewire это представление отображается с использованием блейд-шаблона "),s("code",[t._v("resources/views/profile/update-profile-information-form.blade.php")]),t._v(". При использовании стека Inertia это представление отображается с использованием шаблона "),s("code",[t._v("resources/js/Pages/Profile/UpdateProfileInformationForm.vue")]),t._v(".")]),t._v(" "),s("p",[t._v("Каждый из этих шаблонов получит весь объект аутентифицированного пользователя, так что Вы можете добавить дополнительные поля в эти формы по мере необходимости. Любые дополнительные входные данные, добавленные к формам, будут включены в массив "),s("code",[t._v("$input")]),t._v(", который передается Вашему действию "),s("code",[t._v("UpdateUserProfileInformation")]),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"деиствия"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#деиствия"}},[t._v("#")]),t._v(" Действия")]),t._v(" "),s("p",[t._v("Как типично для большинства функций Jetstream, логику, выполняемую для удовлетворения запросов на обновление профиля, можно найти в классе действий в Вашем приложении. В частности, класс "),s("code",[t._v("App\\Actions\\Fortify\\UpdateUserProfileInformation")]),t._v(" будет вызываться, когда пользователь обновляет свой профиль. Это действие отвечает за проверку ввода и обновление информации профиля пользователя.")]),t._v(" "),s("p",[t._v("Следовательно, любые настройки, которые Вы хотите внести в эту логику, должны выполняться в этом классе. Действие получает аутентифицированный в данный момент "),s("code",[t._v("$user")]),t._v(" и массив "),s("code",[t._v("$input")]),t._v(", который содержит все данные входящего запроса, включая обновленную фотографию профиля, если применимо.")]),t._v(" "),s("h2",{attrs:{id:"фото-профиля"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#фото-профиля"}},[t._v("#")]),t._v(" Фото профиля")]),t._v(" "),s("h3",{attrs:{id:"включение-фото-профиля"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#включение-фото-профиля"}},[t._v("#")]),t._v(" Включение фото профиля")]),t._v(" "),s("p",[t._v("Если Вы хотите разрешить пользователям загружать пользовательские фотографии профиля, Вы должны включить эту функцию в файле конфигурации "),s("code",[t._v("config/jetstream.php")]),t._v(". Чтобы включить эту функцию, просто раскомментируйте запись функции из элемента конфигурации "),s("code",[t._v("features")]),t._v(" в этом файле:")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'features'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    Features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("profilePhotos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("api")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("teams")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("p",[t._v("Кроме того, Вы должны выполнить Artisan-команду "),s("code",[t._v("storage:link")]),t._v(". Для получения информации об этой команде обратитесь к "),s("a",{attrs:{href:"https://getlaravel.ru/docs/filesystem#the-public-disk",target:"_blank",rel:"noopener noreferrer"}},[t._v("документации по файловой системе Laravel"),s("OutboundLink")],1),t._v(":")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("php artisan storage:link\n")])])]),s("h3",{attrs:{id:"управление-фотографиями-профиля"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#управление-фотографиями-профиля"}},[t._v("#")]),t._v(" Управление фотографиями профиля")]),t._v(" "),s("p",[t._v("По умолчанию Jetstream позволяет пользователям загружать собственные фотографии профиля. Эта функциональность поддерживается трейтом "),s("code",[t._v("Laravel\\Jetstream\\HasProfilePhoto")]),t._v(", который автоматически прикрепляется к Вашему классу "),s("code",[t._v("App\\Models\\User")]),t._v(" во время установки Jetstream.")]),t._v(" "),s("p",[t._v("Эта черта содержит такие методы, как "),s("code",[t._v("updateProfilePhoto")]),t._v(", "),s("code",[t._v("getProfilePhotoUrlAttribute")]),t._v(", "),s("code",[t._v("defaultProfilePhotoUrl")]),t._v(" и "),s("code",[t._v("profilePhotoDisk")]),t._v(", которые могут быть перезаписаны Вашим собственным классом "),s("code",[t._v("App\\Models\\User")]),t._v(", если Вам нужно настроить их поведение. Вам предлагается прочитать исходный код этого трейта, чтобы получить полное представление о функциях, которые он предоставляет Вашему приложению.")]),t._v(" "),s("p",[t._v("Метод "),s("code",[t._v("updateProfilePhoto")]),t._v(" является основным методом, используемым для хранения фотографий профиля, и вызывается действием "),s("code",[t._v("UpdateUserProfileInformation")]),t._v(".")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Laravel Vapor")]),t._v(" "),s("p",[t._v("По умолчанию диск "),s("code",[t._v("s3")]),t._v(" будет использоваться автоматически, когда Ваше приложение запущено в "),s("a",{attrs:{href:"https://vapor.laravel.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("Laravel Vapor"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("h2",{attrs:{id:"удаление-аккаунта"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#удаление-аккаунта"}},[t._v("#")]),t._v(" Удаление аккаунта")]),t._v(" "),s("p",[t._v("Экран управления профилем также включает панель действий, которая позволяет пользователю удалить свою учетную запись приложения. Когда пользователь решает удалить свою учетную запись, будет вызван класс действия "),s("code",[t._v("App\\Actions\\Jetstream\\DeleteUser")]),t._v(". Вы можете настроить логику удаления учетной записи в этом классе.")])])}),[],!1,null,null,null);a.default=r.exports}}]);