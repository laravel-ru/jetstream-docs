(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{351:function(t,s,a){t.exports=a.p+"assets/img/security.1334d2b3.png"},360:function(t,s,a){"use strict";a.r(s);var n=a(40),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"безопасность"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#безопасность"}},[t._v("#")]),t._v(" Безопасность")]),t._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#вступление"}},[t._v("Вступление")]),n("ul",[n("li",[n("a",{attrs:{href:"#двухфакторная-аутентификация"}},[t._v("Двухфакторная аутентификация")])])])]),n("li",[n("a",{attrs:{href:"#представления-страницы"}},[t._v("Представления / Страницы")]),n("ul",[n("li",[n("a",{attrs:{href:"#обновление-пароля"}},[t._v("Обновление пароля")])]),n("li",[n("a",{attrs:{href:"#двухфакторная-аутентификация"}},[t._v("Двухфакторная аутентификация")])]),n("li",[n("a",{attrs:{href:"#сеансы-браузера"}},[t._v("Сеансы браузера")])])])]),n("li",[n("a",{attrs:{href:"#деиствия"}},[t._v("Действия")]),n("ul",[n("li",[n("a",{attrs:{href:"#обновление-пароля"}},[t._v("Обновление пароля")])]),n("li",[n("a",{attrs:{href:"#правила-проверки-пароля"}},[t._v("Правила проверки пароля")])])])]),n("li",[n("a",{attrs:{href:"#подтверждение-пароля"}},[t._v("Подтверждение пароля")]),n("ul",[n("li",[n("a",{attrs:{href:"#livewire"}},[t._v("Livewire")])]),n("li",[n("a",{attrs:{href:"#inertia"}},[t._v("Inertia")])]),n("li",[n("a",{attrs:{href:"#настроика-способа-подтверждения-паролеи"}},[t._v("Настройка способа подтверждения паролей")])])])])])]),n("p"),t._v(" "),n("h2",{attrs:{id:"вступление"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#вступление"}},[t._v("#")]),t._v(" Вступление")]),t._v(" "),n("p",[t._v("Доступ к функциям безопасности Laravel Jetstream осуществляется через раскрывающееся меню навигации профиля пользователя в правом верхнем углу. Jetstream формирует представления и действия, которые позволяют пользователю обновлять свой пароль, включать / отключать двухфакторную аутентификацию и выходить из других сеансов браузера.")]),t._v(" "),n("p",[n("img",{attrs:{src:a(351),alt:"Снимок экрана безопасности"}})]),t._v(" "),n("h3",{attrs:{id:"двухфакторная-аутентификация"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#двухфакторная-аутентификация"}},[t._v("#")]),t._v(" Двухфакторная аутентификация")]),t._v(" "),n("p",[t._v("Laravel Jetstream автоматически поддерживает двухфакторную аутентификацию для всех приложений Jetstream. Когда пользователь включает двухфакторную аутентификацию для своей учетной записи, он должен сканировать данный QR-код с помощью бесплатного приложения для аутентификации, такого как Google Authenticator. Кроме того, они должны хранить перечисленные коды восстановления в безопасном менеджере паролей, таком как 1Password.")]),t._v(" "),n("p",[t._v("Если пользователь теряет доступ к своему мобильному устройству, представление входа в систему Jetstream позволит ему аутентифицироваться с использованием одного из своих кодов восстановления вместо временного токена, предоставленного приложением аутентификатора их мобильного устройства.")]),t._v(" "),n("h2",{attrs:{id:"представления-страницы"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#представления-страницы"}},[t._v("#")]),t._v(" Представления / Страницы")]),t._v(" "),n("p",[t._v("Как правило, представления и страницы для этих функций не требуют настройки, поскольку они уже завершены. Однако их расположение описано ниже.")]),t._v(" "),n("h3",{attrs:{id:"обновление-пароля"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#обновление-пароля"}},[t._v("#")]),t._v(" Обновление пароля")]),t._v(" "),n("p",[t._v("При использовании стека Livewire представление обновления пароля отображается с использованием шаблона Blade "),n("code",[t._v("resources/views/profile/update-password-form.blade.php")]),t._v(". При использовании стека Inertia это представление отображается с использованием шаблона "),n("code",[t._v("resources/js/Pages/Profile/UpdatePasswordForm.vue")]),t._v(".")]),t._v(" "),n("h3",{attrs:{id:"двухфакторная-аутентификация-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#двухфакторная-аутентификация-2"}},[t._v("#")]),t._v(" Двухфакторная аутентификация")]),t._v(" "),n("p",[t._v("При использовании стека Livewire вид управления двухфакторной аутентификацией отображается с использованием блейд-шаблона "),n("code",[t._v("resources/views/profile/two-factor-authentication-form.blade.php")]),t._v(". При использовании стека Inertia это представление отображается с использованием шаблона "),n("code",[t._v("resources/js/Pages/Profile/TwoFactorAuthenticationForm.vue")]),t._v(".")]),t._v(" "),n("h3",{attrs:{id:"сеансы-браузера"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#сеансы-браузера"}},[t._v("#")]),t._v(" Сеансы браузера")]),t._v(" "),n("p",[t._v("При использовании стека Livewire представление управления сеансом браузера отображается с использованием шаблона Blade "),n("code",[t._v("resources/views/profile/logout-other-browser-sessions-form.blade.php")]),t._v(". При использовании стека Inertia это представление отображается с использованием шаблона "),n("code",[t._v("resources/js/Pages/Profile/LogoutOtherBrowserSessionsForm.vue")]),t._v(".")]),t._v(" "),n("p",[t._v("Эта функция использует встроенное в Laravel промежуточное программное обеспечение "),n("code",[t._v("AuthenticateSession")]),t._v(" для безопасного выхода из других сеансов браузера, которые аутентифицированы как текущий пользователь.")]),t._v(" "),n("h2",{attrs:{id:"деиствия"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#деиствия"}},[t._v("#")]),t._v(" Действия")]),t._v(" "),n("p",[t._v("Как типично для большинства функций Jetstream, логика, выполняемая для удовлетворения запросов, связанных с безопасностью, может быть найдена в классах действий в Вашем приложении. Однако настраивается только действие обновления пароля. Как правило, действия двухфакторной аутентификации и сеанса браузера должны оставаться инкапсулированными в Jetstream и не требовать настройки.")]),t._v(" "),n("h3",{attrs:{id:"обновление-пароля-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#обновление-пароля-2"}},[t._v("#")]),t._v(" Обновление пароля")]),t._v(" "),n("p",[t._v("Класс "),n("code",[t._v("App\\Actions\\Fortify\\UpdateUserPassword")]),t._v(" будет вызываться, когда пользователь обновит свой пароль. Это действие отвечает за проверку ввода и обновление пароля пользователя.")]),t._v(" "),n("p",[t._v("Это действие использует трейт "),n("code",[t._v("App\\Actions\\Fortify\\PasswordValidationRules")]),t._v(" для определения правил проверки, которые будут применяться к паролю. Настройка этого свойства будет одинаково влиять на правила проверки, применяемые к паролю, когда пользователь регистрируется, сбрасывает свой пароль или обновляет свой пароль.")]),t._v(" "),n("h3",{attrs:{id:"правила-проверки-пароля"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#правила-проверки-пароля"}},[t._v("#")]),t._v(" Правила проверки пароля")]),t._v(" "),n("p",[t._v("Как Вы могли заметить, трейт "),n("code",[t._v("App\\Actions\\Fortify\\PasswordValidationRules")]),t._v(" использует настраиваемый объект правила проверки "),n("code",[t._v("Laravel\\Fortify\\Rules\\Password")]),t._v(". Этот объект позволяет Вам легко настроить требования к паролю для Вашего приложения. По умолчанию для правила требуется пароль длиной не менее 8 символов. Однако Вы можете использовать следующие методы для настройки требований к паролю:")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Password")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("length")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Требуется хотя бы один символ верхнего регистра...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Password")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("requireUppercase")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Требуется хотя бы один числовой символ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Password")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("requireNumeric")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h2",{attrs:{id:"подтверждение-пароля"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#подтверждение-пароля"}},[t._v("#")]),t._v(" Подтверждение пароля")]),t._v(" "),n("p",[t._v("При создании приложения Вы можете иногда выполнять действия, требующие от пользователя подтверждения пароля перед выполнением действия. К счастью, в Jetstream есть встроенная функциональность, которая упрощает эту задачу.")]),t._v(" "),n("h3",{attrs:{id:"livewire"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#livewire"}},[t._v("#")]),t._v(" Livewire")]),t._v(" "),n("p",[t._v("Если Вы используете стек Livewire, Ваш компонент Livewire, содержащий действие с подтвержденным паролем, должен использовать трейт "),n("code",[t._v("Laravel\\Jetstream\\ConfirmsPasswords")]),t._v(". Затем Вы должны заключить действие, которое Вы хотите подтвердить, с помощью блейд-компонента "),n("code",[t._v("confirms-password")]),t._v(". Оболочка "),n("code",[t._v("confirms-password")]),t._v(" должна содержать директиву "),n("code",[t._v("wire:then")]),t._v(", которая указывает, какое действие Livewire должно выполняться после подтверждения пароля пользователя. После того, как пользователь подтвердит свой пароль, ему не потребуется повторно вводить пароль до тех пор, пока не истечет количество секунд, определенное параметром конфигурации "),n("code",[t._v("auth.password_timeout")]),t._v(":")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("x-jet-confirms-password")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wire:")]),t._v("then")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("enableAdminMode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("x-jet-button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("button"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wire:")]),t._v("loading.attr")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("disabled"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        {{ __('Enable') }}\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("x-jet-button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("x-jet-confirms-password")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("Затем в рамках Вашего действия Livewire, которое подтверждается, Вы должны вызвать метод "),n("code",[t._v("ensurePasswordIsConfirmed")]),t._v(". Делать это нужно в самом начале соответствующего метода действий:")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Включить режим администрирования для пользователя.\n *\n * @return void\n */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("enableAdminMode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ensurePasswordIsConfirmed")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"inertia"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#inertia"}},[t._v("#")]),t._v(" Inertia")]),t._v(" "),n("p",[t._v("Если Вы используете стек Inertia, Вам следует обернуть действие, которое Вы хотите подтвердить, с помощью компонента Vue "),n("code",[t._v("ConfirmsPassword")]),t._v(", предоставляемого Jetstream. Этот компонент-оболочка должен прослушивать событие "),n("code",[t._v("@confirmed")]),t._v(", чтобы запустить метод, который должен вызываться после подтверждения пароля пользователя. После того, как пользователь подтвердит свой пароль, ему не потребуется повторно вводить пароль до тех пор, пока не истечет количество секунд, определенное параметром конфигурации "),n("code",[t._v("auth.password_timeout")]),t._v(":")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" JetConfirmsPassword "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./Jetstream/ConfirmsPassword'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    components"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        JetConfirmsPassword"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("Затем оберните компонент вокруг элемента, запускающего действие, которое необходимо подтвердить:")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("jet-confirms-password")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@confirmed")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("enableAdminMode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("jet-button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("button"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("opacity-25"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v(": enabling }"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":disabled")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("enabling"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        Enable\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("jet-button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("jet-confirms-password")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("Наконец, Вы должны убедиться, что маршруту, который выполняет подтвержденное действие, назначено промежуточное программное обеспечение "),n("code",[t._v("password.confirm")]),t._v(". Это промежуточное ПО включено в стандартную установку Laravel:")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[t._v("Route"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'/admin-mode'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("middleware")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'password.confirm'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"настроика-способа-подтверждения-паролеи"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#настроика-способа-подтверждения-паролеи"}},[t._v("#")]),t._v(" Настройка способа подтверждения паролей")]),t._v(" "),n("p",[t._v("Иногда Вам может потребоваться настроить способ проверки пароля пользователя во время подтверждения. Для этого Вы можете использовать метод "),n("code",[t._v("Fortify::confirmPasswordsUsing")]),t._v(". Этот метод принимает Замыкание, которое получает аутентифицированный пользовательский экземпляр и входное значение запроса "),n("code",[t._v("password")]),t._v(". Замыкание должно вернуть "),n("code",[t._v("true")]),t._v(", если пароль действителен для данного пользователя. Обычно этот метод следует вызывать из метода "),n("code",[t._v("boot")]),t._v(" Вашего "),n("code",[t._v("JetstreamServiceProvider")]),t._v(":")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Support"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Facades"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Hash")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token package"}},[t._v("Laravel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Fortify"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Fortify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nFortify"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("confirmPasswordsUsing")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$user")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" string "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$password")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Hash"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("check")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$password")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$user")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("password")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);