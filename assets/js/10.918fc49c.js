(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{323:function(t,a,s){t.exports=s.p+"assets/img/profile-management.d7eec7d1.png"},370:function(t,a,s){"use strict";s.r(a);var e=s(40),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"управление-профилем"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#управление-профилем"}},[t._v("#")]),t._v(" Управление профилем")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#вступление"}},[t._v("Вступление")])]),e("li",[e("a",{attrs:{href:"#деиствия"}},[t._v("Действия")])]),e("li",[e("a",{attrs:{href:"#представления-страницы"}},[t._v("Представления / Страницы")])]),e("li",[e("a",{attrs:{href:"#фото-профиля"}},[t._v("Фото профиля")]),e("ul",[e("li",[e("a",{attrs:{href:"#включение-фото-профиля"}},[t._v("Включение фото профиля")])]),e("li",[e("a",{attrs:{href:"#управление-фотографиями-профиля"}},[t._v("Управление фотографиями профиля")])])])]),e("li",[e("a",{attrs:{href:"#удаление-аккаунта"}},[t._v("Удаление аккаунта")])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"вступление"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#вступление"}},[t._v("#")]),t._v(" Вступление")]),t._v(" "),e("p",[t._v("Доступ к функциям управления профилями Laravel Jetstream осуществляется пользователем с помощью раскрывающегося меню навигации профиля пользователя в правом верхнем углу. Jetstream формирует представления и действия, которые позволяют пользователю обновлять свое имя, адрес электронной почты и, при необходимости, фотографию своего профиля.")]),t._v(" "),e("p",[e("img",{attrs:{src:s(323),alt:"Снимок экрана управления профилем"}})]),t._v(" "),e("h2",{attrs:{id:"деиствия"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#деиствия"}},[t._v("#")]),t._v(" Действия")]),t._v(" "),e("p",[t._v("Как типично для большинства функций Jetstream, логику, выполняемую для удовлетворения запросов на обновление профиля, можно найти в классе действий в Вашем приложении. В частности, класс "),e("code",[t._v("App\\Actions\\Fortify\\UpdateUserProfileInformation")]),t._v(" будет вызываться, когда пользователь обновляет свой профиль. Это действие отвечает за проверку ввода и обновление информации профиля пользователя.")]),t._v(" "),e("p",[t._v("Следовательно, любые настройки, которые Вы хотите внести в управление этой информацией в Вашем приложении, должны выполняться в этом классе. При вызове действие получает аутентифицированного в данный момент пользователя "),e("code",[t._v("$user")]),t._v(" и массив "),e("code",[t._v("$input")]),t._v(" , который содержит все данные входящего запроса, включая обновленную фотографию профиля, если применимо.")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Управление дополнительной информацией")]),t._v(" "),e("p",[t._v("Если Вам необходимо управлять дополнительной информацией о пользователе, не чувствуйте себя обязанным добавлять дополнительную информацию в карточку «Информация профиля» в пользовательском интерфейсе Вашего приложения Jetstream. Вы можете добавлять дополнительные элементы пользовательского интерфейса и формы на панель инструментов профиля пользователя, относящиеся к информации, которой Вы хотите управлять.")])]),t._v(" "),e("h2",{attrs:{id:"представления-страницы"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#представления-страницы"}},[t._v("#")]),t._v(" Представления / Страницы")]),t._v(" "),e("p",[t._v("При использовании стека Livewire форма информации профиля пользователя отображается с использованием шаблона Blade "),e("code",[t._v("resources/views/profile/update-profile-information-form.blade.php")]),t._v(". При использовании стека Inertia это представление отображается с использованием шаблона "),e("code",[t._v("resources/js/Pages/Profile/UpdateProfileInformationForm.vue")]),t._v(".")]),t._v(" "),e("p",[t._v("Каждый из этих шаблонов получит весь объект аутентифицированного пользователя, так что Вы можете добавить дополнительные поля в эти формы по мере необходимости. Любые дополнительные входные данные, добавленные в формы, будут включены в массив "),e("code",[t._v("$input")]),t._v(", который передается вашему действию "),e("code",[t._v("UpdateUserProfileInformation")]),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"фото-профиля"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#фото-профиля"}},[t._v("#")]),t._v(" Фото профиля")]),t._v(" "),e("h3",{attrs:{id:"включение-фото-профиля"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#включение-фото-профиля"}},[t._v("#")]),t._v(" Включение фото профиля")]),t._v(" "),e("p",[t._v("Если Вы хотите разрешить пользователям загружать пользовательские фотографии профиля, Вы должны включить эту функцию в файле конфигурации Вашего приложения "),e("code",[t._v("config/jetstream.php")]),t._v(". Чтобы включить эту функцию, просто раскомментируйте соответствующую запись функции из элемента конфигурации "),e("code",[t._v("features")]),t._v(" в этом файле:")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Laravel"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Jetstream"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Features")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'features'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    Features"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("profilePhotos")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Features"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("api")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Features"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("teams")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("p",[t._v("После включения функции фото профиля Вы должны выполнить Artisan-команду "),e("code",[t._v("storage:link")]),t._v(". Эта команда создаст символическую ссылку в общедоступном каталоге Вашего приложения "),e("code",[t._v("public")]),t._v(" , которая позволит Вашему приложению обслуживать изображения Ваших пользователей. Для получения информации об этой команде обратитесь к "),e("a",{attrs:{href:"https://getlaravel.ru/docs/filesystem#the-public-disk",target:"_blank",rel:"noopener noreferrer"}},[t._v("документации по файловой системе Laravel"),e("OutboundLink")],1),t._v(":")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("php artisan storage:link\n")])])]),e("h3",{attrs:{id:"управление-фотографиями-профиля"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#управление-фотографиями-профиля"}},[t._v("#")]),t._v(" Управление фотографиями профиля")]),t._v(" "),e("p",[t._v("Функциональность фотографии профиля Jetstream поддерживается трейтом "),e("code",[t._v("Laravel\\Jetstream\\HasProfilePhoto")]),t._v(", который автоматически присоединяется к Вашему классу "),e("code",[t._v("App\\Models\\User")]),t._v(" во время установки Jetstream.")]),t._v(" "),e("p",[t._v("Этот трейт содержит такие методы, как "),e("code",[t._v("updateProfilePhoto")]),t._v(", "),e("code",[t._v("getProfilePhotoUrlAttribute")]),t._v(", "),e("code",[t._v("defaultProfilePhotoUrl")]),t._v(" и "),e("code",[t._v("profilePhotoDisk")]),t._v(", которые могут быть перезаписаны Вашим собственным классом "),e("code",[t._v("App\\Models\\User")]),t._v(", если Вам нужно настроить их поведение. Вам предлагается прочитать исходный код этого трейта, чтобы получить полное представление о функциях, которые он предоставляет Вашему приложению.")]),t._v(" "),e("p",[t._v("Метод "),e("code",[t._v("updateProfilePhoto")]),t._v(" является основным методом, используемым для хранения фотографий профиля, и вызывается классом действия Вашего приложения "),e("code",[t._v("App\\Actions\\Fortify\\UpdateUserProfileInformation")]),t._v(".")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Laravel Vapor")]),t._v(" "),e("p",[t._v("По умолчанию диск "),e("code",[t._v("s3")]),t._v(" будет использоваться для хранения фотографий профиля, когда Ваше приложение Jetstream работает в "),e("a",{attrs:{href:"https://vapor.laravel.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("Laravel Vapor"),e("OutboundLink")],1),t._v(".")])]),t._v(" "),e("h2",{attrs:{id:"удаление-аккаунта"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#удаление-аккаунта"}},[t._v("#")]),t._v(" Удаление аккаунта")]),t._v(" "),e("p",[t._v("Экран управления профилем также включает панель действий, которая позволяет пользователю удалить свою учетную запись приложения. Когда пользователь решает удалить свою учетную запись, будет вызван класс действия "),e("code",[t._v("App\\Actions\\Jetstream\\DeleteUser")]),t._v(". Вы можете настроить логику удаления учетной записи в этом классе.")]),t._v(" "),e("p",[t._v("Функцию удаления учетной записи можно отключить, удалив эту функцию из файла конфигурации Вашего приложения "),e("code",[t._v("config/jetstream.php")]),t._v(":")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Laravel"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Jetstream"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Features")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'features'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    Features"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("termsAndPrivacyPolicy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Features"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("profilePhotos")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Features"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("api")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Features"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("teams")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Features::accountDeletion(),")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);